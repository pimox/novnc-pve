From 6abc6b0b278717584ff2452cbe8d1f448398a406 Mon Sep 17 00:00:00 2001
From: Dominik Csapak <d.csapak@proxmox.com>
Date: Thu, 11 May 2017 10:34:10 +0200
Subject: [PATCH 03/10] change scaling when toggling fullscreen

when activating fullscreen, we change the scaling to 'scale',
and changing it back when leaving fullscreen

Signed-off-by: Dominik Csapak <d.csapak@proxmox.com>
---
 app/ui.js | 9 +++++++++
 1 file changed, 9 insertions(+)

diff --git a/app/ui.js b/app/ui.js
index b01fd5d..d35be49 100644
--- a/app/ui.js
+++ b/app/ui.js
@@ -1210,6 +1210,12 @@ var UI = {
             } else if (document.msExitFullscreen) {
                 document.msExitFullscreen();
             }
+
+            // when changing from fullscreen to window,
+            // re enable auto resize
+            if (WebUtil.getQueryVar('resize') === null) {
+                UI.updateSetting('resize', null);
+            }
         } else {
             if (document.documentElement.requestFullscreen) {
                 document.documentElement.requestFullscreen();
@@ -1220,7 +1226,10 @@ var UI = {
             } else if (document.body.msRequestFullscreen) {
                 document.body.msRequestFullscreen();
             }
+            // we want scaling in fullscreen mode
+            UI.updateSetting('resize', 'scale');
         }
+        UI.applyResizeMode();
         UI.enableDisableViewClip();
         UI.updateFullscreenButton();
     },
-- 
2.11.0

